[pytest]
markers =
    serializers: marks tests as serializer tests
    permissions: marks tests as permission tests
    attendance: marks tests as attendance tests
    auth: marks tests as authentication tests
    idor: marks tests as IDOR protection tests
    governance: marks tests as governance tests
    rbac: marks tests as RBAC tests

# Test discovery
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Coverage settings
addopts = 
    --strict-markers
    --disable-warnings
    --tb=short
    --cov-config=.coveragerc

# Django settings
DJANGO_SETTINGS_MODULE = school_support_backend.settings

# Test database settings
DATABASE_URL = mysql://test_django_user:test_django_password@127.0.0.1:3306/test_school_support_db